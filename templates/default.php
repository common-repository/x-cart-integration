/**
 * Template
 *
 * @author    Qualiteam software Ltd <info@x-cart.com>
 * @copyright Copyright (c) 2011-2015 Qualiteam software Ltd <info@x-cart.com>. All rights reserved
 * @license   http://www.x-cart.com/license-agreement.html X-Cart 5 License Agreement
 * @link      http://www.x-cart.com/
 */
define(function(){var templates={};templates.default={};templates.default.cart={};templates.default.cart.cart_checkout_form="<div class='right-box'> <input type='hidden' name='target' value='store_integration_api'/> <input type='hidden' name='action' value='add_products_to_cart'/> <input type='hidden' name='wp_referer' value='<jstpl= referer jstpl>'/> <jstpl for (var productIndex = 0; productIndex < products.length; productIndex++) { jstpl> <jstpl _.each(products[productIndex].get('attributeVariants'), function(attributeVariant, attributeVariantsCounter) { jstpl> <jstpl if(attributeVariant.attributeValues.length == 0) { jstpl> <input type='hidden' name='products[productIndex]' value='<jstpl= products[productIndex].get('productId') jstpl>_<jstpl= products[productIndex].get('amount')jstpl>'/> <jstpl } else { jstpl> <jstpl _.each(attributeVariant.attributeValues, function(attributeValue, attributeId) { jstpl> <input type='hidden' name='products[<jstpl= productIndex jstpl>][<jstpl= attributeVariantsCounter jstpl>][attributes][<jstpl= attributeId jstpl>]' value='<jstpl= attributeValue jstpl>'/> <jstpl }); jstpl> <jstpl } jstpl> <input type='hidden' name='products[<jstpl= productIndex jstpl>][<jstpl= attributeVariantsCounter jstpl>][amount]' value='<jstpl= attributeVariant.amount jstpl>'/> <input type='hidden' name='products[<jstpl= productIndex jstpl>][<jstpl= attributeVariantsCounter jstpl>][productId]' value='<jstpl= products[productIndex].get('productId') jstpl>'/> <jstpl }); jstpl> <jstpl } jstpl> <input class='btn-checkout' type='submit' value='<?php echo $translate('Checkout', 'xcart-integration') ?>' /></div>";templates.default.cart.cart_product="<td class='product-img-column'><img class='product-img' src='<jstpl= image[0].url jstpl>' /></td><td class='product-info-column'> <div class='product-title'><jstpl= name jstpl></div> <div><jstpl currentPrice = price + priceModifier jstpl><jstpl= currentPrice.toFixed(2) jstpl> x <input type='text' class='qty-input' value='<jstpl= amount jstpl>' do-action='set-amount'/> = <jstpl= Math.round(currentPrice * amount*100)/100 jstpl></div><div class='selected-attributes'><jstpl _.each(attributeValues, function(attributeValue, attributeKey) { attributeKey = parseInt(attributeKey); currentAttribute = _.findWhere(attributes, {id: attributeKey});jstpl> <span><jstpl= currentAttribute.name jstpl>:</span><jstpl switch(currentAttribute.type) { case 'C': rightValue = currentAttribute.values[1].id; if (attributeValue == rightValue) { currentValue = 'Yes'; } else { currentValue = 'No'; } break; case 'T': currentValue = attributeValue; break; case 'S': currentValue = _.findWhere(currentAttribute.values, {id: attributeValue}); currentValue = currentValue.title; break; }jstpl> <jstpl= currentValue jstpl>;<jstpl});jstpl></div> <div class='out-of-stock'><?php echo $translate('out of stock', 'xcart-integration') ?></div></td><td class='product-del-column'><a href='javascript: void(0);' do-action='delete'><?php echo $translate('delete', 'xcart-integration') ?></a></td>";templates.default.cart.cart="<div class='xcart-popup-wrapper'> <div class='xcart-btn-close-popup'><a href='javascript: void(0);' do-action='hide-cart'>&nbsp;</a></div> <h3><?php echo $translate('Your cart', 'xcart-integration') ?></h3> <div class='xcart-cart-product-list-box'> <table id='xcart-cart-product-list'> </table> </div> <a class='btn-update' do-action='update-cart'><?php echo $translate('Update cart', 'xcart-integration') ?></a> <!-- <a class='btn-continue' do-action='hide-cart'><?php echo $translate('Continue shopping', 'xcart-integration') ?></a> --> <a class='btn-clear-cart' do-action='clear-cart'><?php echo $translate('Clear cart', 'xcart-integration') ?></a> <div class='clear'></div></div>";templates.default.cart.mini_cart="<div class='xcart-minicart-button' do-action='show-cart'> <div class='minicart-items-number'><jstpl= length jstpl></div> <!-- <div class='minicart-items-text'>item(s)</div>--> <div class='minicart-view-link'><a href='javascript: void(0);'><?php echo $translate('View cart', 'xcart-integration') ?></a></div> <div class='internal-popup items-list empty-cart'></div>";templates.default.category_menu={};templates.default.category_menu.category="<a do-action='select-category'><jstpl= name jstpl></a>";templates.default.elements={};templates.default.elements.big_cart="<div id='xcart-cart'></div>";templates.default.elements.category_menu="<div class='xcart-category-menu'><ul></ul></div>";templates.default.elements.hor_category_menu="<div class='xcart-category-menu horizontal'><ul></ul></div>";templates.default.elements.mini_cart_static="<div id='xcart-mini-cart' class='static'></div>";templates.default.elements.mini_cart="<div id='xcart-mini-cart'></div>";templates.default.elements.modal_product_grid="<div class='xcart-modal'> <div class='xcart-btn-close-popup'> <a href='javascript: void(0);' do-action='hide-cart'>&nbsp;</a> </div> <div class='xcart-product-grid' data-categoryId='0' data-gridSize='5'></div> <div class='clear'></div></div>";templates.default.elements.product_browser="<div class='xcart-product-browser' data-productId='{$attributes['product_id']}' data-categoryId='{$attributes['category_id']}'></div><div class='clear'></div>";templates.default.elements.product_grid="<div class='xcart-product-grid' data-categoryId='{$attributes['category_id']}' data-gridSize='{$attributes['grid_size']}'></div><div class='clear'></div>";templates.default.elements.search="<div id='xcart-search-widget'></div>";templates.default.loading="<img src='<jstpl= options.sourceUrl.images jstpl>ajax-loader.gif' />";templates.default.popup_product_added="<span><?php echo $translate('Product has been added', 'xcart-integration') ?></span>";templates.default.product_browser={};templates.default.product_browser.image_gallery="<div class='btn-close'><a href='javascript: void(0);' do-action='close-gallery'>&nbsp;</a></div><div class='main-image'> <img src = '<jstpl= currentImageSrc jstpl>' class='main-image' do-action='next-image'/></div><jstpl if(images.length > 1) { jstpl><ul class='image-list'> <jstpl for(var i = 0; i < images.length; i++) { jstpl> <jstpl if(currentImageSrc == images[i].src) {jstpl><li class='active'><jstpl } else { jstpl><li><jstpl } jstpl><img src='<jstpl= images[i].src jstpl>' do-action='change-image' orig-width='<jstpl= images[i].widthjstpl>' orig-height='<jstpl= images[i].height jstpl>'/></li> <jstpl } jstpl></ul><jstpl } jstpl>";templates.default.product_browser.product_browser="<h2 class='xcart-product-title'><jstpl= model.name jstpl></h2><div class='backward_link_placeholder'></div><div class='breadcrumbs_placeholder'></div><div class='forward_backward'><a do-action='move-backward' class='prev-product'><?php echo $translate('previous product', 'xcart-integration') ?></a> | <a do-action='move-forward' class='next-product'><?php echo $translate('next product', 'xcart-integration') ?></a></div> <div class='xcart-product-box'> <div class='xcart-product-image'> <img class='xcart_product_image' src='<jstpl= model.image[0].url jstpl>' width='<jstpl= model.image[0].width jstpl>' max-height='{$image_box_size}' max-width='{$image_box_size}' /> <jstpl if(model.image.length > 1) { jstpl> <ul class='image-list'> <jstpl for(var i = 0; i < model.image.length; i++) { jstpl> <jstpl if(i == 0) {jstpl><li class='active'><jstpl } else { jstpl><li><jstpl } jstpl><img src='<jstpl= model.image[i].url jstpl>' width='70' do-action='change-image' orig-width='<jstpl= model.image[i].widthjstpl>' orig-height='<jstpl= model.image[i].height jstpl>'/></li> <jstpl } jstpl> </ul> <jstpl } jstpl> </div> <div class='xcart-product-details'> <div class='property-line'> <span class='property-name'><?php echo $translate('SKU', 'xcart-integration') ?></span> <span class='property-value'><jstpl= model.sku jstpl></span> </div> <jstpl if(model.quantity > 0) { jstpl> <div class='property-line'> <span class='in-stock-label'><?php echo $translate('In stock', 'xcart-integration') ?></span> <span class='product-items-available'><jstpl= model.quantity jstpl> (<?php echo $translate('items available', 'xcart-integration') ?>)</span> </div> <jstpl } jstpl> <div class='property-line price-line' data-place-template='price'> </div> <jstpl if(model.attributes.length > 0) {jstpl> <ul class='editable-attributes'> <jstpl for(var i = 0; i < model.attributes.length; i++) { jstpl> <li> <jstpl if (model.attributes[i].type == 'C') { jstpl> <jstpl checked = ''; if(true == model.attributes[i].values[1].selected) { checked = ' checked'; } jstpl> <input type='checkbox' value='<jstpl= model.attributes[i].values[1].id jstpl>' data-attribute-id='<jstpl= model.attributes[i].id jstpl>' data-unchecked='<jstpl= model.attributes[i].values[0].idjstpl>'<jstpl= checked jstpl>/><span class='title checkbox'><jstpl= model.attributes[i].name jstpl><jstpl= model.attributes[i].modifier_title jstpl></span> <jstpl } jstpl> <jstpl if (model.attributes[i].type == 'T') { jstpl> <span class='title'><jstpl= model.attributes[i].name jstpl></span> <textarea class='form-control' rows='3' data-attribute-id='<jstpl= model.attributes[i].id jstpl>'><jstpl= model.attributes[i].value jstpl></textarea> <jstpl } jstpl> <jstpl if (model.attributes[i].type == 'S') { jstpl> <span class='title'><jstpl= model.attributes[i].name jstpl></span> <select class='form-control' data-attribute-id='<jstpl= model.attributes[i].id jstpl>'> <jstpl for(var j = 0; j < model.attributes[i].values.length; j++) { jstpl> <jstpl selected = ''; if(true == model.attributes[i].values[j].selected) { selected = ' selected'; } jstpl> <option value='<jstpl= model.attributes[i].values[j].id jstpl>'<jstpl= selected jstpl>><jstpl= model.attributes[i].values[j].title jstpl> <jstpl= model.attributes[i].values[j].modifier_title jstpl></option> <jstpl } jstpl> </select> <jstpl } jstpl> </li> <jstpl } jstpl> </ul> <jstpl } jstpl> <div class='out-of-stock'><?php echo $translate('out of stock', 'xcart-integration') ?></div> <jstpl if ((new Date(model.releaseDate)) > (new Date)) { jstpl> <div class='coming-soon'><?php echo $translate('Coming soon', 'xcart-integration') ?></div> <jstpl } else { jstpl> <div class='buynow-block'> <button do-action='add-product-to-cart'><?php echo $translate('Add to cart', 'xcart-integration') ?></button> </div> <jstpl } jstpl> </div> </div> <div class='xcart-product-description'><jstpl= model.translations['en']['description'] jstpl></div> <div class='clear'></div>";templates.default.product_browser.product_price="<span class='property-name'><?php echo $translate('Price', 'xcart-integration') ?></span><span class='property-value price-value'><jstpl= currencySymbol jstpl><jstpl currentPrice = price + modifier jstpl><jstpl= currentPrice.toFixed(2) jstpl></span><jstpl if (salePercent > 0) {jstpl><div class='xcart-sale-banner-block'> <div class='text'><?php echo $translate('sale', 'xcart-integration') ?></div> <div class='percent'><jstpl= Math.round(100-100*(price + modifier)/(initialPrice + modifier)) jstpl>% off</div></div><div class='benefit-text'> <?php echo $translate('Old price', 'xcart-integration') ?>: <strike><jstpl oldPrice = initialPrice + modifier jstpl><jstpl= oldPrice.toFixed(2) jstpl></strike>, <?php echo $translate('you save', 'xcart-integration') ?> <strong> <jstpl benefit = (initialPrice + modifier) - (price + modifier); benefit = benefit.toFixed(2); jstpl> <jstpl= currencySymbol jstpl><jstpl= benefit jstpl> </strong></div><jstpl } jstpl>";templates.default.product_grid={};templates.default.product_grid.backward_search_link="<div class='xcart-back-to-search'> <a href='#<jstpl= url jstpl>'><?php echo $translate('Back to search results', 'xcart-integration') ?></a></div>";templates.default.product_grid.category_breadcrumbs="<div id='xcart-breadcrumbs'><jstpl _.each(categories, function(category, i) { jstpl> <jstpl var lastIndex = categories.length - 1; jstpl> <jstpl if (undefined != category.cleanURL) { jstpl> <jstpl if (i != lastIndex) { jstpl> <a href='<jstpl= currentURL jstpl>#Catalog/<jstpl= category.cleanURL jstpl>/page/1/grid/<jstpl= category.gridNumber jstpl>'><jstpl= category.name jstpl></a> > <jstpl } else { jstpl> <a href='<jstpl= currentURL jstpl>#Catalog/<jstpl= category.cleanURL jstpl>/page/1/grid/<jstpl= category.gridNumber jstpl>'><jstpl= category.name jstpl></a> <jstpl } jstpl> <jstpl } else { jstpl> <jstpl if (i != lastIndex) { jstpl> <a href='<jstpl= currentURL jstpl>#category/<jstpl= category.categoryId jstpl>/page/1/grid/<jstpl= category.gridNumber jstpl>'><jstpl= category.name jstpl></a> > <jstpl } else { jstpl> <a href='<jstpl= currentURL jstpl>#category/<jstpl= category.categoryId jstpl>/page/1/grid/<jstpl= category.gridNumber jstpl>'><jstpl= category.name jstpl></a> <jstpl } jstpl> <jstpl } jstpl><jstpl }) jstpl></div>";templates.default.product_grid.category_grid="<div class='item-box' do-action='select-category'> <div class='cat-image-box'> <img src='<jstpl= model.image.url jstpl>' width='<jstpl= model.image.width jstpl>' height='<jstpl= model.image.height jstpl>' max-height='<jstpl= options.image_box_sizejstpl>' max-width='<jstpl= options.image_box_size jstpl>' <jstpl if (model.image.height < options.image_box_size) {jstpl> style='margin-bottom:<jstpl= (options.image_box_size-model.image.height)/2 jstpl>px;margin-top:<jstpl= (options.image_box_size-model.image.height)/2 jstpl>px;' <jstpl } jstpl>/> </div> <div class='cat-name-box'><a class='product-name'><jstpl= model.name jstpl></a></div> <div class='clear'></div></div>";templates.default.product_grid.pagination="<div class='xcart-pagination'><jstpl counter = options.gridSize; page = 1; pageCount = options.productsCount / options.gridSize; SPACE = 2; isDotsPrinted = false; jstpl><jstpl if(options.currentPage != 1) { jstpl><!-- <a do-action='go-to-previous-page'><?php echo $translate('Previous', 'xcart-integration') ?></a> --><a class='btn-prev' do-action='go-to-previous-page' href='javascript: void(0);'><</a><jstpl } jstpl><jstpl for(var i=1; i<=options.productsCount; i++) { jstpl> <jstpl if(counter == options.gridSize) { counter = 0; if(page == options.currentPage) { jstpl> <a class='current' href='javascript: void(0);'><jstpl= page jstpl></a> <jstpl } else { isInSpace = page < options.currentPage && ((page + SPACE) >= options.currentPage); isInSpace = isInSpace || (page > options.currentPage && (page - SPACE) <= options.currentPage); isLastPages = page > (pageCount - 1); if (page < 3 || isLastPages || isInSpace) { jstpl> <a do-action='go-to-page' data-page='<jstpl= pagejstpl>' href='javascript: void(0);'><jstpl= page jstpl></a> <jstpl isDotsPrinted = false; } else { if (!isDotsPrinted) { jstpl> <a do-action='go-to-page' href='javascript: void(0);'> ... </a> <jstpl isDotsPrinted = true; } jstpl> <jstpl } jstpl> <jstpl } jstpl> <jstpl page++; } jstpl> <jstpl counter++; jstpl><jstpl } lastPage = page - 1;jstpl><jstpl if(options.currentPage != lastPage) { jstpl><!-- <a do-action='go-to-next-page'><?php echo $translate('Next', 'xcart-integration') ?></a> --><a class='btn-next' do-action='go-to-next-page' href='javascript: void(0);'>></a><jstpl } jstpl></div>";templates.default.product_grid.product_cell="<div class='item-box'> <div class='product-name-box'><a class='product-name' do-action='show-product-browser' href='<jstpl= options.shopUrl jstpl>?target=product&product_id=<jstpl= model.productId jstpl>' target='_blank'><jstpl= model.name jstpl></a></div> <div class='product-image-box'><a href='<jstpl= options.shopUrl jstpl>?target=product&product_id=<jstpl= model.productId jstpl>' do-action='show-product-browser'><img src='<jstpl= model.image[0].url jstpl>' width='<jstpl= model.image[0].width jstpl>' height='<jstpl= model.image[0].height jstpl>' max-height='<jstpl= options.image_box_size jstpl>' max-width='<jstpl= options.image_box_size jstpl>' <jstpl if (model.image[0].height < options.image_box_size) {jstpl> style='margin-bottom:<jstpl= (options.image_box_size-model.image[0].height)/2 jstpl>px;margin-top:<jstpl= (options.image_box_size-model.image[0].height)/2 jstpl>px;' <jstpl } jstpl>/></a></div> <div class='product-price-box'><?php echo $translate('Price', 'xcart-integration') ?> <span class='price-value'><jstpl= model.currencySymbol jstpl><jstpl= (model.price + model.priceModifier).toFixed(2) jstpl></span></div> <jstpl if ((new Date(model.releaseDate)) > (new Date)) { jstpl> <div class='coming-soon'><?php echo $translate('Coming soon', 'xcart-integration') ?></div> <jstpl } else { jstpl> <button do-action='add-product-to-cart' class='add-product-to-cart'><?php echo $translate('Add to cart', 'xcart-integration') ?></button> <jstpl } jstpl> <div class='out-of-stock'><?php echo $translate('out of stock', 'xcart-integration') ?></div> <div class='clear'></div></div>";templates.default.product_grid.product_grid="<h3><jstpl= name jstpl></h3><jstpl if (viewDescription.length > 0) { jstpl> <div class='category-description'><jstpl= viewDescription jstpl></div><jstpl } jstpl><div class='category-grid-replace'></div><jstpl if (depth != -1) { jstpl> <div class='tools'> <div class='xcart-sort-bar'> <?php echo $translate('Sort by', 'xcart-integration') ?>: <a do-action='sort-by-name' href='javascript: void(0);'><?php echo $translate('name', 'xcart-integration') ?></a> <a do-action='sort-by-price' href='javascript: void(0);'><?php echo $translate('price', 'xcart-integration') ?></a> <a do-action='sort-by-default' href='javascript: void(0);'><?php echo $translate('recommended', 'xcart-integration') ?></a> </div> </div> <div class='products'></div><jstpl } jstpl><div class='clear'></div>";templates.default.search_widget="<input type='text' do-action='search' placeholder='<?php echo $translate('Search items', 'xcart-integration') ?>' /><button type='button' do-action='search-by-button' class='xcart-searchwidget-button'><?php echo $translate('To search', 'xcart-integration') ?></button>";return templates;});